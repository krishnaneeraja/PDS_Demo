#include <header.h>

unsigned char byte_logo[] = {
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0x7, 0x3f, 0x3e, 0xc4, 0x1, 0x1e, 0x1f, 0xf0, 0xc1, 0x43, 0x0, 0x4, 0x30, 0x1e, 0xe, 0xfe,	//*16bytes*
  0xf, 0x3f, 0x3e, 0xc6, 0x0, 0x1c, 0x8f, 0xe2, 0x81, 0x47, 0x0, 0x4, 0x30, 0xe, 0x1f, 0xfc,	//*16bytes*
  0xf, 0x3e, 0x3c, 0xc6, 0x0, 0x1c, 0x27, 0xc8, 0x81, 0x47, 0x0, 0x4, 0x30, 0x8e, 0xbf, 0xf8,	//*16bytes*
  0x1f, 0x7c, 0x1c, 0xc6, 0x78, 0x18, 0x3, 0x80, 0x1, 0xc7, 0xc7, 0xc7, 0x3f, 0x86, 0x7f, 0xf8,	//*16bytes*
  0x3f, 0x78, 0x1c, 0xc6, 0xf0, 0x1f, 0x93, 0x87, 0x1, 0xc7, 0xc7, 0xc7, 0x3f, 0xc2, 0x7f, 0xf0,	//*16bytes*
  0x3f, 0x78, 0x18, 0xc7, 0x0, 0x1e, 0xc3, 0x7, 0x1, 0xc6, 0xc7, 0x7, 0x30, 0xe0, 0xff, 0xe2,	//*16bytes*
  0x7f, 0x70, 0x8, 0xc7, 0x1, 0x1c, 0xc3, 0x2f, 0x21, 0xc6, 0xc7, 0x7, 0x30, 0xe0, 0xff, 0xe0,	//*16bytes*
  0x3f, 0xf8, 0x8, 0xc7, 0x7, 0x18, 0xc3, 0x7, 0x21, 0xc4, 0xc7, 0x7, 0x30, 0xe0, 0xff, 0xe0,	//*16bytes*
  0x1f, 0xfc, 0x80, 0xc7, 0xf8, 0x18, 0x93, 0xa3, 0x61, 0xc4, 0xc7, 0xc7, 0x3f, 0xc2, 0x7f, 0xf0,	//*16bytes*
  0x1f, 0xfc, 0x80, 0xc7, 0xf8, 0x18, 0x7, 0x80, 0x61, 0xc0, 0xc7, 0xc7, 0x3f, 0x86, 0x3f, 0xf8,	//*16bytes*
  0xf, 0xfe, 0x81, 0xc7, 0x0, 0x18, 0x7, 0xc0, 0xe1, 0xc0, 0xc7, 0x7, 0x30, 0xe, 0x3f, 0xf8,	//*16bytes*
  0x7, 0xff, 0xc1, 0xc7, 0x1, 0x1c, 0xf, 0xc0, 0xe1, 0xc0, 0xc7, 0x7, 0x30, 0x1e, 0x1e, 0xfc,	//*16bytes*
  0x7, 0xff, 0xc1, 0xc7, 0x3, 0x1e, 0x1f, 0xf2, 0xe1, 0xc1, 0xc7, 0x7, 0x30, 0x3e, 0xc, 0xfe,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff,	//*16bytes*
  0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff	//*16bytes*
};

int
Display_test (void)
{
  MENU_T menu;

  int opt = 0, ret;
  char event;
  int selItem = 0;
  int acceptKbdEvents = TRUE;
  int maxEntries = 0;
  short scroll = 0;
  static int lcd = 1;
  char text[256];

  menu.start = 0;
  menu.maxEntries = 3;
  maxEntries = menu.maxEntries;
  strcpy (menu.title, "Display Menu");
  strcpy (menu.menu[0], "LCD Test");
  strcpy (menu.menu[1], "Backlight Test");
  strcpy (menu.menu[2], "Display BMP");

  while (1)
    {
      opt = scroll_menu (&menu, &selItem, acceptKbdEvents);
      switch (opt)
	{
	case CANCEL:
	  return 0;

	case ENTER:

	  switch (selItem + 1)
	    {
	    case 1:
	      lk_lcdtest (0, 0, 31, 119, text);
	      break;
	    case 2:
	      backlight_test ();
	      break;

	    case 3:
	      lk_dispclr ();
	      while (1)
		{
		  lk_dispbmp (0, 0, 127, 63, byte_logo);
		  sleep (1);
		  if (lk_getkey_wait () == CANCEL)
		    break;
		}
	      break;

	    }

	default:
	  break;
	}

    }
  return SUCCESS;
}

int
backlight_test (void)		// backlight testing
{
  char flg = 10;
  char key = 0;

  lk_dispbklight (1);
  lk_dispclr ();
  lk_disptext (2, 0, "BackLight Diagnostic", 0);


  for (;;)
    {
      key = lk_getkey ();
      if (key == ENTER)
	{
	  lk_dispbklight (flg);
	  flg ^= 10;
	}
      if (key == CANCEL)
	break;

    }

  lk_dispbklight (10);

  return SUCCESS;

}
